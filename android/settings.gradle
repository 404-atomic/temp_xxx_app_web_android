pluginManagement {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
        // Flutter artifacts repository
        maven { url = uri("https://storage.googleapis.com/download.flutter.io") }
    }
}

plugins {
    id "com.android.application" version '7.4.2' apply false
    id "org.jetbrains.kotlin.android" version "1.7.10" apply false
}

// Load Flutter SDK path from local.properties and include Flutter toolchain
def localProps = new Properties()
def localPropsFile = new File(rootDir, 'local.properties')
if (localPropsFile.exists()) {
    localPropsFile.withReader('UTF-8') { reader -> localProps.load(reader) }
}
def flutterSdkPath = localProps.getProperty('flutter.sdk')
if (flutterSdkPath != null) {
    includeBuild("${flutterSdkPath}/packages/flutter_tools/gradle")
}

include ":app"
include ':ui'